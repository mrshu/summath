<!DOCTYPE html>
<html>
  <head>
    <title>JaxMark Editor: Markdown with LaTeX</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="example/main.css" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="https://togetherjs.com/togetherjs-min.js"></script>
  </head>
<body>
<div id="wrap">
  <div id="head">
    <span id="logo">
      <a href="http://github.com/mrshu/summath">$\sum math$</a>
    </span>
    <a style="border: 1px solid black; border-radius: 5px; margin-left: 20px;background-color: black; color: white;" onclick="TogetherJS(this); return false;">Get Together!</a>
    <input type="file" id="opensel" />
    <ul class="menu">
      <li><span id="openbtn">Open</span></li>
      <li><span id="savebtn">Save</span></li>
      <li>
        <span onclick="void(0)">&#9662;Export</span>
        <ul class="menu1">
          <li><span id="export-wordpress">Html with WordPress LaTeX</span></li>
          <li><span id="export-mathjax">Html with MathJax LaTeX</span></li>
          <li><span id="export-markdown">Markdown with Escaped LaTeX</span></li>
        </ul>
      </li>
    </ul>
  </div>
  <div id="main">
    <div id="container"></div>
  </div>
</div>
<div id="dialog">
  <div id="dialog-head"><span id="dialog-title">Export File</span><span id="dialog-close">&#215;</span></div>
  <div id="dialog-body"><textarea id="dialog-text"></textarea></div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  skipStartupTypeset: true,
  showProcessingMessages: true,
  tex2jax: {inlineMath: [['$','$']],
            displayMath: [['$$','$$']],
            processEnvironments: false},
  'HTML-CSS': { imageFont: null }
});
MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('logo')]);
</script>

<script type="text/javascript">
TogetherJS.hub.on("togetherjs.chat", function () {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub, $('.togetherjs-chat-content:last').get(0)]);
    // also mathjaxify the chat box
    if ($("#togetherjs-chat-button .togetherjs-active").length == 0) {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub, $('#togetherjs-chat-messages .togetherjs-chat-content:last').get(1)]);
    }
});

TogetherJS_hub_on = {
  "form-init": function (msg) {
    console.log('initalizing this form', msg);
  }
};

</script>

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="library/marked/marked.js"></script>
<script src="library/jaxmark/jaxmark.js"></script>
<script src="example/main.js"></script>
</body>
</html>
